<p-dialog
  header="Add Category"
  [(visible)]="visible"
  [modal]="true"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  [style]="{ width: '70vw' }"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onDialogClose()"
>
  <div class="wrapper grid grid-cols-12">
    <div class="content-left-div col-span-5">
      <p-treeTable
        [value]="categories"
        [columns]="cols"
        [scrollable]="true"
        [tableStyle]="{ 'min-width': '2rem' }"
        [paginator]="true"
        [rows]="3"
        [rowsPerPageOptions]="[1, 3]"

      >
        <ng-template #caption>
          <div class="text-xl font-bold">File Viewer</div>
        </ng-template>
        <ng-template #header let-columns>
          <tr>
            @for (col of columns; track col.field) {
              <th>{{ col.header }}</th>
            }
          </tr>
        </ng-template>

        <ng-template #body let-rowNode let-rowData="rowData" let-columns="columns">
          <tr [ttRow]="rowNode">
            @for (col of columns; track col.field; let last = $last) {
              <td>
                @if (col.field === 'name') {
                  <p-treetable-toggler [rowNode]="rowNode"/>
                  {{ rowData[col.field] }}
                }

                @if (col.field === 'action') {
                  <div class="flex gap-2 justify-end">
                    <p-button
                      icon="pi pi-search"
                      rounded="true"
                      [style]="{ 'margin-right': '.5em' }"
                    />

                    <p-button
                      icon="pi pi-pencil"
                      rounded="true"
                      severity="success"
                    />
                  </div>
                }


              </td>
            }
          </tr>
        </ng-template>
        <ng-template #summary>
          <div style="text-align:left">
            <p-button icon="pi pi-refresh" label="Reload" severity="warn" (click)="getCategoriesFromService()"/>
          </div>
        </ng-template>
      </p-treeTable>
    </div>


    <div class="content-right-div col-span-7">

    </div>
  </div>


</p-dialog>
